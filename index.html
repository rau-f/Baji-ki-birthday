<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Gulshan! üéâ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #9c27b0;
            --primary-light: #e1bee7;
            --secondary: #ff4081;
            --secondary-light: #f8bbd9;
            --accent: #ffeb3b;
            --light: #f9f0ff;
            --dark: #4a148c;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --mobile-padding: 15px;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f9f0ff 0%, #e1bee7 100%);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 16px;
            line-height: 1.5;
            touch-action: manipulation;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--mobile-padding);
        }

        /* Welcome Screen - Mobile Optimized */
        .welcome-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1) 0%, rgba(255, 64, 129, 0.1) 100%);
            position: relative;
            overflow: hidden;
        }

        .welcome-screen::before {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);
            top: -50px;
            left: -50px;
            z-index: 0;
        }

        .welcome-screen::after {
            content: '';
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--secondary-light) 0%, transparent 70%);
            bottom: -30px;
            right: -30px;
            z-index: 0;
        }

        .welcome-content {
            position: relative;
            z-index: 1;
            max-width: 100%;
            padding: 0 10px;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            color: var(--dark);
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.2;
            word-wrap: break-word;
        }

        .highlight {
            color: var(--secondary);
            text-shadow: 0 2px 5px rgba(255, 64, 129, 0.3);
        }

        .intro-text {
            font-size: clamp(1rem, 4vw, 1.4rem);
            line-height: 1.6;
            margin-bottom: 30px;
            color: var(--dark);
            max-width: 100%;
            padding: 0 5px;
        }

        /* Mobile-optimized buttons */
        .btn-start {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: var(--shadow);
            font-weight: 600;
            letter-spacing: 1px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
            min-height: 60px;
            min-width: 250px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
        }

        .btn-start:active {
            transform: scale(0.98);
        }

        .btn-start:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(156, 39, 176, 0.3);
        }

        /* Puzzle Sections - Mobile Optimized */
        .puzzle-section {
            display: none;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            padding: 30px var(--mobile-padding);
            position: relative;
            scroll-margin-top: 20px;
        }

        .active-puzzle {
            display: block;
            animation: fadeIn 1s ease;
        }

        .puzzle-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: clamp(20px, 5vw, 40px);
            max-width: 100%;
            margin: 0 auto;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .puzzle-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .puzzle-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 6vw, 2.8rem);
            color: var(--dark);
            margin-bottom: 15px;
            text-align: center;
            line-height: 1.3;
        }

        .puzzle-instructions {
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            color: #666;
            margin-bottom: 30px;
            text-align: center;
            max-width: 100%;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
        }

        .puzzle-content {
            margin: 30px 0;
        }

        .btn-next {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 16px 35px;
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            font-weight: 600;
            display: block;
            margin: 30px auto 0;
            position: relative;
            overflow: hidden;
            min-height: 55px;
            min-width: 200px;
            touch-action: manipulation;
        }

        .btn-next:active {
            transform: scale(0.98);
        }

        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-next:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(156, 39, 176, 0.3);
        }

        /* Puzzle 1 - Riddle (Mobile Optimized) */
        .riddle-container {
            text-align: center;
            padding: 0 5px;
        }

        .riddle-text {
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-style: italic;
            color: var(--dark);
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(156, 39, 176, 0.05);
            border-radius: 15px;
            border-left: 5px solid var(--primary);
            line-height: 1.4;
        }

        .answer-input {
            width: 100%;
            max-width: 350px;
            padding: 15px 20px;
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            border: 2px solid var(--primary-light);
            border-radius: 50px;
            margin: 20px auto;
            display: block;
            transition: all 0.3s ease;
            -webkit-appearance: none;
            appearance: none;
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.2);
        }

        /* Puzzle 2 - Memory Game (Mobile Optimized) */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            max-width: 100%;
            margin: 0 auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(45deg, var(--primary-light), var(--secondary-light));
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
            background: white;
        }

        .memory-card.matched {
            background: linear-gradient(45deg, var(--accent), #ffcd38);
            cursor: default;
        }

        /* Puzzle 3 - Drag and Drop (Mobile Optimized) */
        .drag-drop-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 25px;
        }

        .drag-items {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .drag-item {
            padding: 14px 20px;
            background: linear-gradient(45deg, var(--primary-light), var(--secondary-light));
            border-radius: 10px;
            cursor: move;
            text-align: center;
            font-weight: 600;
            color: var(--dark);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            touch-action: none;
            user-select: none;
            min-width: 120px;
        }

        .drag-item:active {
            transform: scale(0.95);
        }

        .drag-item.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            min-height: 200px;
            border: 3px dashed var(--primary);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            text-align: center;
        }

        .drop-zone.over {
            background: rgba(156, 39, 176, 0.1);
            border-color: var(--secondary);
        }

        .drop-zone .drop-instruction {
            color: var(--dark);
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            text-align: center;
            margin-top: 10px;
            padding: 0 10px;
        }

        .dropped-item {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 18px;
            border-radius: 8px;
            margin: 8px;
            text-align: center;
            font-weight: 600;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            animation: popIn 0.5s ease;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            max-width: 90%;
        }

        /* Final Card - Mobile Optimized */
        .final-card {
            display: none;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            padding: 30px var(--mobile-padding);
            position: relative;
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1) 0%, rgba(255, 64, 129, 0.1) 100%);
        }

        .final-card.active {
            display: block;
            animation: fadeIn 1s ease;
        }

        .card-container {
            background: white;
            border-radius: 20px;
            max-width: 100%;
            margin: 0 auto;
            padding: clamp(25px, 5vw, 50px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        .card-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        .birthday-message {
            text-align: center;
            margin-bottom: 30px;
        }

        .birthday-message h2 {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.2rem, 7vw, 3.5rem);
            color: var(--secondary);
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .birthday-message p {
            font-size: clamp(1rem, 3.5vw, 1.3rem);
            line-height: 1.6;
            color: #555;
            margin-bottom: 15px;
            text-align: left;
        }

        .personal-note {
            background: rgba(255, 64, 129, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            border-left: 5px solid var(--secondary);
        }

        .personal-note h3 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
        }

        .birthday-wish {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.6rem, 5vw, 2.2rem);
            color: var(--primary);
            margin-top: 30px;
            text-align: center;
            line-height: 1.3;
        }

        /* Progress Bar - Mobile Optimized */
        .progress-bar {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light);
            border: 3px solid var(--primary-light);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: var(--dark);
            margin: 0 10px;
            position: relative;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .progress-step.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .progress-step.completed {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }

        .progress-step::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 3px;
            background: var(--primary-light);
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .progress-step:last-child::after {
            display: none;
        }

        /* Sound Controls */
        .sound-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1002;
            display: flex;
            gap: 10px;
        }

        .sound-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--primary-light);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: var(--primary);
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .sound-btn:active {
            transform: scale(0.9);
        }

        .sound-btn.muted {
            color: #999;
            border-color: #ccc;
        }

        /* Confetti and Effects */
        .confetti-container {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
        }

        .applause {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            color: var(--accent);
            opacity: 0;
            pointer-events: none;
            z-index: 1001;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes slideInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
            .memory-game {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
            }
            
            .progress-step {
                width: 35px;
                height: 35px;
                margin: 0 8px;
                font-size: 1rem;
            }
            
            .progress-step::after {
                width: 16px;
                right: -16px;
            }
            
            .sound-controls {
                top: 15px;
                right: 15px;
            }
            
            .sound-btn {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
            }
            
            .drag-item {
                padding: 12px 16px;
                min-width: 100px;
            }
            
            .drop-zone {
                min-height: 180px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .intro-text {
                font-size: 0.95rem;
            }
            
            .puzzle-title {
                font-size: 1.5rem;
            }
            
            .puzzle-instructions {
                font-size: 0.9rem;
            }
            
            .riddle-text {
                font-size: 1.1rem;
            }
            
            .btn-start, .btn-next {
                font-size: 1rem;
            }
            
            body {
                font-size: 14px;
            }
            
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .progress-step {
                width: 30px;
                height: 30px;
                margin: 0 5px;
                font-size: 0.9rem;
                border-width: 2px;
            }
            
            .progress-step::after {
                width: 10px;
                right: -10px;
            }
            
            .puzzle-container {
                padding: 20px 15px;
            }
            
            .btn-start, .btn-next {
                min-width: 200px;
                padding: 15px 30px;
            }
            
            .drag-drop-container {
                gap: 20px;
            }
            
            .drag-items {
                gap: 10px;
            }
            
            .drag-item {
                min-width: 90px;
                padding: 10px 14px;
            }
        }

        @media (max-width: 360px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .intro-text {
                font-size: 0.85rem;
            }
            
            .puzzle-title {
                font-size: 1.3rem;
            }
            
            .puzzle-instructions {
                font-size: 0.85rem;
            }
            
            .riddle-text {
                font-size: 1rem;
            }
            
            body {
                font-size: 13px;
            }
            
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            
            .memory-card {
                font-size: 1.5rem;
            }
            
            .progress-step {
                width: 28px;
                height: 28px;
                margin: 0 4px;
            }
            
            .progress-step::after {
                width: 8px;
                right: -8px;
            }
        }

        /* Landscape orientation fixes */
        @media (max-height: 600px) and (orientation: landscape) {
            .welcome-screen, .puzzle-section, .final-card {
                min-height: 120vh;
                padding-top: 60px;
                padding-bottom: 60px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .intro-text {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .puzzle-title {
                font-size: 2rem;
            }
            
            .puzzle-container {
                padding: 25px;
            }
        }

        /* Prevent zoom on input focus for iOS */
        @media screen and (max-width: 768px) {
            input, textarea {
                font-size: 16px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Sound Controls -->
    <div class="sound-controls">
        <button class="sound-btn" id="music-btn" title="Toggle Music">
            <i class="fas fa-music"></i>
        </button>
        <button class="sound-btn" id="sound-btn" title="Toggle Sound Effects">
            <i class="fas fa-volume-up"></i>
        </button>
    </div>

    <!-- Welcome Screen -->
    <section class="welcome-screen active" id="welcome-screen">
        <div class="welcome-content">
            <h1>Happy Birthday <span class="highlight">Gulshan!</span></h1>
            <p class="intro-text">
                My dearest sister, even though I'm far away in distance, my love and wishes for you on your special day know no bounds. 
                This year, I've created something special just for you - a journey of love, memories, and celebration!
            </p>
            <p class="intro-text">
                To unlock your birthday card, you'll need to solve some fun puzzles. Each puzzle brings you closer to your special message. 
                Ready to begin this beautiful journey?
            </p>
            <button class="btn-start" id="start-btn">
                <span>Begin the Celebration!</span> <i class="fas fa-gift" style="margin-left: 10px;"></i>
            </button>
        </div>
        <div class="confetti-container" id="confetti-container"></div>
    </section>

    <!-- Puzzle 1: Riddle -->
    <section class="puzzle-section" id="puzzle1">
        <div class="container">
            <div class="progress-bar">
                <div class="progress-step active">1</div>
                <div class="progress-step">2</div>
                <div class="progress-step">3</div>
            </div>
            <div class="puzzle-container">
                <h2 class="puzzle-title">Puzzle 1: The Birthday Riddle</h2>
                <p class="puzzle-instructions">
                    Let's start with a fun riddle! Solve this to proceed to the next puzzle.
                </p>
                <div class="puzzle-content">
                    <div class="riddle-container">
                        <div class="riddle-text">
                            "I'm a time that's loved by all, marking moments big and small. 
                            With candles, cake, and joyful cheer, I come around just once a year. 
                            What am I?"
                        </div>
                        <input type="text" class="answer-input" id="riddle-answer" placeholder="Enter your answer here...">
                        <p id="riddle-feedback" style="text-align: center; margin-top: 15px; font-weight: 600;"></p>
                    </div>
                </div>
                <button class="btn-next" id="next1" disabled>
                    <span>Next Puzzle</span> <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Puzzle 2: Memory Game -->
    <section class="puzzle-section" id="puzzle2">
        <div class="container">
            <div class="progress-bar">
                <div class="progress-step completed">1</div>
                <div class="progress-step active">2</div>
                <div class="progress-step">3</div>
            </div>
            <div class="puzzle-container">
                <h2 class="puzzle-title">Puzzle 2: Memory Match</h2>
                <p class="puzzle-instructions">
                    Find all matching pairs of birthday items! Tap on cards to reveal them and try to find matches.
                </p>
                <div class="puzzle-content">
                    <div class="memory-game" id="memory-game">
                        <!-- Cards will be generated by JavaScript -->
                    </div>
                    <p id="memory-status" style="text-align: center; margin-top: 20px; font-weight: 600;"></p>
                </div>
                <button class="btn-next" id="next2" disabled>
                    <span>Next Puzzle</span> <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Puzzle 3: Drag and Drop -->
    <section class="puzzle-section" id="puzzle3">
        <div class="container">
            <div class="progress-bar">
                <div class="progress-step completed">1</div>
                <div class="progress-step completed">2</div>
                <div class="progress-step active">3</div>
            </div>
            <div class="puzzle-container">
                <h2 class="puzzle-title">Puzzle 3: Arrange the Birthday Wishes</h2>
                <p class="puzzle-instructions">
                    Drag the birthday wishes in the correct order to complete the message for Gulshan!
                </p>
                <div class="puzzle-content">
                    <div class="drag-drop-container">
                        <div class="drag-items" id="drag-items">
                            <div class="drag-item" draggable="true" data-id="1">Happy</div>
                            <div class="drag-item" draggable="true" data-id="2">Birthday</div>
                            <div class="drag-item" draggable="true" data-id="3">to the most</div>
                            <div class="drag-item" draggable="true" data-id="4">wonderful sister!</div>
                        </div>
                        <div class="drop-zone" id="drop-zone">
                            <div class="drop-instruction">Drag birthday wishes here in correct order</div>
                        </div>
                    </div>
                    <p id="drag-feedback" style="text-align: center; margin-top: 20px; font-weight: 600;"></p>
                </div>
                <button class="btn-next" id="next3" disabled>
                    <span>Unlock Birthday Card!</span> <i class="fas fa-gift" style="margin-left: 8px;"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Final Birthday Card -->
    <section class="final-card" id="final-card">
        <div class="container">
            <div class="card-container">
                <div class="birthday-message">
                    <h2>Happy Birthday, Dearest Gulshan!</h2>
                    <p>Today, you turn <span style="color: var(--secondary); font-weight: bold;">23 or 24</span> (you know which one! üòâ), and even though I can't be there with you in Lahore to celebrate, I'm sending all my love across the miles.</p>
                    <p>It's been a year since your beautiful wedding in April 2025, and I'm so happy to see you flourishing in your new life. Marriage looks wonderful on you!</p>
                    <p>On this special day, I wish you endless joy, laughter that fills your home, love that grows deeper each day, and dreams that turn into reality.</p>
                    
                    <div class="personal-note">
                        <h3>A Special Note Just For You:</h3>
                        <p>Gulshan, you've always been more than just a sister to me. You've been a guide, a friend, and an inspiration. Even with the distance between us, our bond remains as strong as ever. I'm so proud of the woman you've become and excited for all the beautiful moments ahead in your journey.</p>
                        <p>May this year bring you closer to your dreams, fill your days with happiness, and bless you with health and prosperity. Enjoy your special day to the fullest!</p>
                    </div>
                    
                    <div class="birthday-wish">
                        With all my love,<br>
                        Your sibling who misses you dearly ‚ù§Ô∏è
                    </div>
                </div>
            </div>
        </div>
        <div class="confetti-container" id="final-confetti"></div>
    </section>

    <!-- Applause Effect -->
    <div class="applause" id="applause">
        <i class="fas fa-hand-sparkles"></i>
    </div>

    <!-- Audio elements for sounds -->
    <audio id="bg-music" loop preload="auto">
        <!-- We'll use a simple generated tone for background music -->
    </audio>
    <audio id="click-sound" preload="auto"></audio>
    <audio id="success-sound" preload="auto"></audio>
    <audio id="applause-sound" preload="auto"></audio>
    <audio id="celebration-sound" preload="auto"></audio>

    <script>
        // DOM Elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const puzzle1 = document.getElementById('puzzle1');
        const puzzle2 = document.getElementById('puzzle2');
        const puzzle3 = document.getElementById('puzzle3');
        const finalCard = document.getElementById('final-card');
        const startBtn = document.getElementById('start-btn');
        const nextBtn1 = document.getElementById('next1');
        const nextBtn2 = document.getElementById('next2');
        const nextBtn3 = document.getElementById('next3');
        const riddleAnswer = document.getElementById('riddle-answer');
        const riddleFeedback = document.getElementById('riddle-feedback');
        const memoryGame = document.getElementById('memory-game');
        const memoryStatus = document.getElementById('memory-status');
        const dragItems = document.getElementById('drag-items');
        const dropZone = document.getElementById('drop-zone');
        const dragFeedback = document.getElementById('drag-feedback');
        const applause = document.getElementById('applause');
        const confettiContainer = document.getElementById('confetti-container');
        const finalConfetti = document.getElementById('final-confetti');
        const musicBtn = document.getElementById('music-btn');
        const soundBtn = document.getElementById('sound-btn');
        
        // Audio elements
        const bgMusic = document.getElementById('bg-music');
        const clickSound = document.getElementById('click-sound');
        const successSound = document.getElementById('success-sound');
        const applauseSound = document.getElementById('applause-sound');
        const celebrationSound = document.getElementById('celebration-sound');

        // Game State
        let currentPuzzle = 0;
        let matchedPairs = 0;
        let flippedCards = [];
        let correctOrder = [1, 2, 3, 4];
        let droppedItems = [];
        
        // Sound State
        let musicEnabled = true;
        let soundEnabled = true;
        let audioContext;
        let backgroundMusicSource;

        // Initialize the app
        function init() {
            // Initialize sound system
            initSounds();
            
            // Start button click event
            startBtn.addEventListener('click', () => {
                playSound('click');
                playSound('celebration');
                welcomeScreen.classList.remove('active');
                puzzle1.classList.add('active-puzzle');
                createConfetti(confettiContainer, 50);
                playApplause();
                
                // Auto-scroll to first puzzle with smooth behavior
                setTimeout(() => {
                    puzzle1.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);
            });

            // Sound control buttons
            musicBtn.addEventListener('click', () => {
                playSound('click');
                musicEnabled = !musicEnabled;
                musicBtn.classList.toggle('muted', !musicEnabled);
                musicBtn.innerHTML = musicEnabled ? '<i class="fas fa-music"></i>' : '<i class="fas fa-music-slash"></i>';
                
                if (musicEnabled) {
                    playBackgroundMusic();
                } else {
                    stopBackgroundMusic();
                }
            });
            
            soundBtn.addEventListener('click', () => {
                playSound('click');
                soundEnabled = !soundEnabled;
                soundBtn.classList.toggle('muted', !soundEnabled);
                soundBtn.innerHTML = soundEnabled ? '<i class="fas fa-volume-up"></i>' : '<i class="fas fa-volume-mute"></i>';
            });

            // Puzzle 1: Riddle
            const correctAnswer = "birthday";
            riddleAnswer.addEventListener('input', function() {
                const answer = this.value.trim().toLowerCase();
                if (answer === correctAnswer) {
                    riddleFeedback.textContent = "Correct! üéâ Well done!";
                    riddleFeedback.style.color = "var(--secondary)";
                    nextBtn1.disabled = false;
                    createConfetti(confettiContainer, 30);
                    playSound('success');
                    playApplause();
                } else if (answer) {
                    riddleFeedback.textContent = "Not quite, try again!";
                    riddleFeedback.style.color = "#ff5252";
                } else {
                    riddleFeedback.textContent = "";
                }
            });

            // Next button for puzzle 1
            nextBtn1.addEventListener('click', () => {
                playSound('click');
                puzzle1.classList.remove('active-puzzle');
                puzzle2.classList.add('active-puzzle');
                initMemoryGame();
                createConfetti(confettiContainer, 20);
                
                // Auto-scroll to next puzzle
                setTimeout(() => {
                    puzzle2.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);
            });

            // Puzzle 2: Memory Game initialization
            function initMemoryGame() {
                memoryGame.innerHTML = '';
                matchedPairs = 0;
                flippedCards = [];
                
                // Emoji pairs for the memory game
                const emojis = ['üéÇ', 'üéÅ', 'üéà', 'üéâ', 'ü•≥', '‚ù§Ô∏è', '‚ú®', 'üå∏'];
                const cards = [...emojis, ...emojis]; // Duplicate for pairs
                
                // Shuffle cards
                cards.sort(() => Math.random() - 0.5);
                
                // Create card elements
                cards.forEach((emoji, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.dataset.index = index;
                    card.dataset.value = emoji;
                    
                    card.innerHTML = `<span style="opacity: 0;">${emoji}</span>`;
                    
                    // Use touch events for mobile
                    card.addEventListener('click', () => {
                        playSound('click');
                        flipCard(card);
                    });
                    
                    // Also support touch events explicitly
                    card.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        playSound('click');
                        flipCard(card);
                    }, { passive: false });
                    
                    memoryGame.appendChild(card);
                });
                
                memoryStatus.textContent = "Find all 8 matching pairs!";
            }

            // Flip card logic
            function flipCard(card) {
                // Don't allow flipping if already matched or two cards are already flipped
                if (card.classList.contains('matched') || flippedCards.length >= 2 || flippedCards.includes(card)) {
                    return;
                }
                
                // Flip the card
                card.classList.add('flipped');
                card.innerHTML = `<span>${card.dataset.value}</span>`;
                flippedCards.push(card);
                
                // Check for match if two cards are flipped
                if (flippedCards.length === 2) {
                    const card1 = flippedCards[0];
                    const card2 = flippedCards[1];
                    
                    if (card1.dataset.value === card2.dataset.value) {
                        // Match found
                        card1.classList.add('matched');
                        card2.classList.add('matched');
                        flippedCards = [];
                        matchedPairs++;
                        
                        memoryStatus.textContent = `Great! ${matchedPairs} of 8 pairs found!`;
                        playSound('success');
                        
                        if (matchedPairs === 8) {
                            memoryStatus.textContent = "Excellent! All pairs found! üéâ";
                            nextBtn2.disabled = false;
                            createConfetti(confettiContainer, 50);
                            playSound('applause');
                            playApplause();
                        }
                    } else {
                        // No match, flip back after delay
                        setTimeout(() => {
                            card1.classList.remove('flipped');
                            card2.classList.remove('flipped');
                            card1.innerHTML = `<span style="opacity: 0;">${card1.dataset.value}</span>`;
                            card2.innerHTML = `<span style="opacity: 0;">${card2.dataset.value}</span>`;
                            flippedCards = [];
                        }, 1000);
                    }
                }
            }

            // Next button for puzzle 2
            nextBtn2.addEventListener('click', () => {
                playSound('click');
                puzzle2.classList.remove('active-puzzle');
                puzzle3.classList.add('active-puzzle');
                initDragDrop();
                createConfetti(confettiContainer, 20);
                
                // Auto-scroll to next puzzle
                setTimeout(() => {
                    puzzle3.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);
            });

            // Puzzle 3: Drag and Drop initialization
            function initDragDrop() {
                droppedItems = [];
                dropZone.innerHTML = '<div class="drop-instruction">Drag birthday wishes here in correct order</div>';
                dragFeedback.textContent = "Arrange the words to form a birthday message for Gulshan!";
                dragFeedback.style.color = "var(--dark)";
                
                // Make drag items draggable again
                document.querySelectorAll('.drag-item').forEach(item => {
                    item.addEventListener('dragstart', dragStart);
                    item.addEventListener('touchstart', touchStart, { passive: false });
                });
                
                // Drop zone events
                dropZone.addEventListener('dragover', dragOver);
                dropZone.addEventListener('dragenter', dragEnter);
                dropZone.addEventListener('dragleave', dragLeave);
                dropZone.addEventListener('drop', drop);
                
                // Touch events for mobile
                dropZone.addEventListener('touchmove', touchMove, { passive: false });
                dropZone.addEventListener('touchend', touchEnd);
            }

            // Drag and Drop functions for desktop
            function dragStart(e) {
                e.dataTransfer.setData('text/plain', e.target.dataset.id);
                e.target.classList.add('dragging');
            }

            function dragOver(e) {
                e.preventDefault();
            }

            function dragEnter(e) {
                e.preventDefault();
                dropZone.classList.add('over');
            }

            function dragLeave() {
                dropZone.classList.remove('over');
            }

            function drop(e) {
                e.preventDefault();
                dropZone.classList.remove('over');
                
                const id = e.dataTransfer.getData('text/plain');
                handleDrop(id);
            }

            // Touch events for mobile drag and drop
            let draggedElement = null;
            
            function touchStart(e) {
                e.preventDefault();
                const touch = e.touches[0];
                draggedElement = e.target;
                draggedElement.classList.add('dragging');
                playSound('click');
            }
            
            function touchMove(e) {
                if (!draggedElement) return;
                e.preventDefault();
            }
            
            function touchEnd(e) {
                if (!draggedElement) return;
                
                const touch = e.changedTouches[0];
                const dropZoneRect = dropZone.getBoundingClientRect();
                
                // Check if touch ended in drop zone
                if (touch.clientX >= dropZoneRect.left && 
                    touch.clientX <= dropZoneRect.right &&
                    touch.clientY >= dropZoneRect.top && 
                    touch.clientY <= dropZoneRect.bottom) {
                    
                    handleDrop(draggedElement.dataset.id);
                }
                
                draggedElement.classList.remove('dragging');
                draggedElement = null;
            }
            
            function handleDrop(id) {
                const draggedItem = document.querySelector(`.drag-item[data-id="${id}"]`);
                
                // Check if item is already dropped
                if (droppedItems.includes(parseInt(id))) {
                    dragFeedback.textContent = "You've already used this word!";
                    dragFeedback.style.color = "#ff5252";
                    draggedItem.classList.remove('dragging');
                    return;
                }
                
                // Add to dropped items
                droppedItems.push(parseInt(id));
                
                // Create dropped element
                const droppedElement = document.createElement('div');
                droppedElement.className = 'dropped-item';
                droppedElement.textContent = draggedItem.textContent;
                droppedElement.dataset.id = id;
                
                // Insert in the correct position (before the instruction)
                const instruction = dropZone.querySelector('.drop-instruction');
                dropZone.insertBefore(droppedElement, instruction);
                
                // Check if all items are dropped
                if (droppedItems.length === 4) {
                    // Check if the order is correct
                    const isCorrect = JSON.stringify(droppedItems) === JSON.stringify(correctOrder);
                    
                    if (isCorrect) {
                        dragFeedback.textContent = "Perfect! You've arranged the birthday message correctly! üéâ";
                        dragFeedback.style.color = "var(--secondary)";
                        nextBtn3.disabled = false;
                        createConfetti(confettiContainer, 50);
                        playSound('applause');
                        playApplause();
                    } else {
                        dragFeedback.textContent = "Almost! Try again. Drag items out and rearrange.";
                        dragFeedback.style.color = "#ff5252";
                        playSound('click');
                        // Allow reordering by resetting
                        setTimeout(() => {
                            droppedItems = [];
                            dropZone.innerHTML = '<div class="drop-instruction">Drag birthday wishes here in correct order</div>';
                            document.querySelectorAll('.drag-item').forEach(item => {
                                item.classList.remove('dragging');
                            });
                        }, 1500);
                    }
                } else {
                    dragFeedback.textContent = `Good! ${4 - droppedItems.length} more to place.`;
                    dragFeedback.style.color = "var(--dark)";
                    playSound('success');
                }
                
                draggedItem.classList.remove('dragging');
            }

            // Next button for puzzle 3
            nextBtn3.addEventListener('click', () => {
                playSound('click');
                puzzle3.classList.remove('active-puzzle');
                finalCard.classList.add('active');
                createConfetti(finalConfetti, 200);
                setTimeout(() => createConfetti(finalConfetti, 200), 500);
                setTimeout(() => createConfetti(finalConfetti, 200), 1000);
                playSound('celebration');
                playApplause();
                
                // Auto-scroll to final card
                setTimeout(() => {
                    finalCard.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);
            });

            // Sound initialization
            function initSounds() {
                // Generate simple tones for sounds
                generateClickSound();
                generateSuccessSound();
                generateApplauseSound();
                generateCelebrationSound();
                
                // Start background music if enabled
                if (musicEnabled) {
                    setTimeout(() => {
                        playBackgroundMusic();
                    }, 1000);
                }
            }
            
            function playBackgroundMusic() {
                if (!musicEnabled) return;
                
                try {
                    // Create a simple background melody using Web Audio API
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    // Create a simple pleasant melody
                    const notes = [261.63, 329.63, 392.00, 523.25, 392.00, 329.63]; // C, E, G, C, G, E
                    let currentNote = 0;
                    
                    function playNote() {
                        if (!musicEnabled || !audioContext) return;
                        
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.value = notes[currentNote];
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 1);
                        
                        currentNote = (currentNote + 1) % notes.length;
                        
                        // Schedule next note
                        setTimeout(playNote, 1500);
                    }
                    
                    // Start the melody
                    playNote();
                } catch (e) {
                    console.log("Audio context not supported");
                }
            }
            
            function stopBackgroundMusic() {
                // For Web Audio API, we just stop scheduling new notes
                // The musicEnabled flag will prevent new notes from playing
            }
            
            function generateClickSound() {
                try {
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 800;
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    
                    // Store the nodes so we can replay
                    clickSound.oscillator = oscillator;
                    clickSound.gainNode = gainNode;
                    clickSound.audioContext = audioContext;
                } catch (e) {
                    console.log("Could not generate click sound");
                }
            }
            
            function generateSuccessSound() {
                try {
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    // Create a rising success sound
                    const oscillator1 = audioContext.createOscillator();
                    const oscillator2 = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator1.connect(gainNode);
                    oscillator2.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator1.frequency.value = 800;
                    oscillator2.frequency.value = 1200;
                    oscillator1.type = 'sine';
                    oscillator2.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    
                    successSound.oscillator1 = oscillator1;
                    successSound.oscillator2 = oscillator2;
                    successSound.gainNode = gainNode;
                    successSound.audioContext = audioContext;
                } catch (e) {
                    console.log("Could not generate success sound");
                }
            }
            
            function generateApplauseSound() {
                try {
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    // Create applause-like sound with multiple oscillators
                    const gainNode = audioContext.createGain();
                    gainNode.connect(audioContext.destination);
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    
                    // Create multiple oscillators at different frequencies
                    const oscillators = [];
                    for (let i = 0; i < 5; i++) {
                        const oscillator = audioContext.createOscillator();
                        oscillator.connect(gainNode);
                        oscillator.frequency.value = 500 + Math.random() * 1000;
                        oscillator.type = 'sine';
                        oscillators.push(oscillator);
                    }
                    
                    applauseSound.oscillators = oscillators;
                    applauseSound.gainNode = gainNode;
                    applauseSound.audioContext = audioContext;
                } catch (e) {
                    console.log("Could not generate applause sound");
                }
            }
            
            function generateCelebrationSound() {
                try {
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    // Create a celebratory arpeggio
                    const notes = [523.25, 659.25, 783.99, 1046.50]; // C, E, G, C (higher)
                    const gainNode = audioContext.createGain();
                    gainNode.connect(audioContext.destination);
                    
                    celebrationSound.notes = notes;
                    celebrationSound.gainNode = gainNode;
                    celebrationSound.audioContext = audioContext;
                } catch (e) {
                    console.log("Could not generate celebration sound");
                }
            }
            
            function playSound(type) {
                if (!soundEnabled) return;
                
                try {
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    }
                    
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }
                    
                    switch(type) {
                        case 'click':
                            if (clickSound.oscillator) {
                                const oscillator = audioContext.createOscillator();
                                const gainNode = audioContext.createGain();
                                
                                oscillator.connect(gainNode);
                                gainNode.connect(audioContext.destination);
                                
                                oscillator.frequency.value = 800;
                                oscillator.type = 'sine';
                                
                                gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                                
                                oscillator.start(audioContext.currentTime);
                                oscillator.stop(audioContext.currentTime + 0.1);
                            }
                            break;
                            
                        case 'success':
                            if (successSound.oscillator1) {
                                const oscillator1 = audioContext.createOscillator();
                                const oscillator2 = audioContext.createOscillator();
                                const gainNode = audioContext.createGain();
                                
                                oscillator1.connect(gainNode);
                                oscillator2.connect(gainNode);
                                gainNode.connect(audioContext.destination);
                                
                                oscillator1.frequency.value = 800;
                                oscillator2.frequency.value = 1200;
                                oscillator1.type = 'sine';
                                oscillator2.type = 'sine';
                                
                                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                                
                                oscillator1.start(audioContext.currentTime);
                                oscillator2.start(audioContext.currentTime);
                                oscillator1.stop(audioContext.currentTime + 0.5);
                                oscillator2.stop(audioContext.currentTime + 0.5);
                            }
                            break;
                            
                        case 'applause':
                            if (applauseSound.oscillators) {
                                const gainNode = audioContext.createGain();
                                gainNode.connect(audioContext.destination);
                                gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1.5);
                                
                                // Create multiple oscillators at different frequencies
                                for (let i = 0; i < 5; i++) {
                                    const oscillator = audioContext.createOscillator();
                                    oscillator.connect(gainNode);
                                    oscillator.frequency.value = 500 + Math.random() * 1000;
                                    oscillator.type = 'sine';
                                    
                                    oscillator.start(audioContext.currentTime);
                                    oscillator.stop(audioContext.currentTime + 1.5);
                                }
                            }
                            break;
                            
                        case 'celebration':
                            if (celebrationSound.notes) {
                                const notes = celebrationSound.notes;
                                const gainNode = audioContext.createGain();
                                gainNode.connect(audioContext.destination);
                                
                                // Play an arpeggio
                                notes.forEach((frequency, index) => {
                                    setTimeout(() => {
                                        const oscillator = audioContext.createOscillator();
                                        oscillator.connect(gainNode);
                                        oscillator.frequency.value = frequency;
                                        oscillator.type = 'sine';
                                        
                                        gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
                                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                                        
                                        oscillator.start(audioContext.currentTime);
                                        oscillator.stop(audioContext.currentTime + 0.3);
                                    }, index * 150);
                                });
                            }
                            break;
                    }
                } catch (e) {
                    console.log("Could not play sound:", e);
                }
            }

            // Create confetti effect
            function createConfetti(container, count) {
                const colors = ['#9c27b0', '#ff4081', '#ffeb3b', '#4a148c', '#e1bee7', '#f8bbd9'];
                
                for (let i = 0; i < count; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 15 + 5 + 'px';
                    confetti.style.height = Math.random() * 15 + 5 + 'px';
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    
                    container.appendChild(confetti);
                    
                    // Animate confetti
                    const animation = confetti.animate([
                        { 
                            transform: 'translateY(-100vh) rotate(0deg)', 
                            opacity: 1 
                        },
                        { 
                            transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 720}deg)`, 
                            opacity: 0 
                        }
                    ], {
                        duration: Math.random() * 3000 + 2000,
                        easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                    });
                    
                    // Remove confetti after animation
                    animation.onfinish = () => {
                        confetti.remove();
                    };
                }
            }

            // Play applause effect
            function playApplause() {
                applause.style.animation = 'none';
                applause.style.opacity = '1';
                
                // Trigger reflow
                void applause.offsetWidth;
                
                applause.style.animation = 'float 1.5s ease-in-out';
                
                setTimeout(() => {
                    applause.style.opacity = '0';
                }, 1500);
            }

            // Initialize memory game and drag drop on load (but hidden)
            initMemoryGame();
            initDragDrop();
            
            // Handle mobile viewport height issues
            function setViewportHeight() {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }
            
            setViewportHeight();
            window.addEventListener('resize', setViewportHeight);
            window.addEventListener('orientationchange', setViewportHeight);
        }

        // Start the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
        
        // Prevent pull-to-refresh on mobile
        document.addEventListener('touchmove', function(e) {
            if (e.scale !== 1) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>